{"version":3,"sources":["webpack:///./src/hooks/useSearch.js","webpack:///./src/pages/manage/Manage.vue?d548","webpack:///./src/hooks/useSelect.js","webpack:///./src/pages/manage/Manage.vue","webpack:///./src/pages/manage/modal.js","webpack:///./src/pages/manage/table.js","webpack:///./src/pages/manage/Manage.vue?e94f"],"names":["useSearch","getList","sourceData","data","route","useRoute","departmentList","ref","value","label","handleChange","async","filter","item","department","getDepartment","then","res","map","depName","unshift","onSearch","meta","status","search","filterOption","input","option","toLowerCase","indexOf","useSelect","deleteFn","selectedRowKeys","onSelectChange","console","log","deleteAll","id","result","code","message","info","msg","class","_createElementVNode","style","_createElementBlock","_hoisted_4","_createVNode","_component_a_input_search","_ctx","$event","placeholder","_component_a_button","type","loading","onClick","_hoisted_9","_component_a_table","row-selection","onChange","columns","data-source","pagination","rowKey","record","account","bodyCell","column","key","_hoisted_10","_hoisted_11","_hoisted_12","_component_a_modal","visible","onOk","centered","cancelText","okText","closable","_toDisplayString","_component_a_input","isAdd","_createBlock","_component_a_select","show-search","options","filter-option","mode","useModal","oldInfo","reactive","edit","title","isShow","dep","typeList","getTypeList","getType","typeName","typeId","selectType","handleOk","addDepartment","updateDepartment","oldAccount","newAccount","add","useTable","dataIndex","sorter","a","b","name","length","topic","content","size","pageSize","xx","date","createTime","replace","defineComponent","setup","state","start","deleteAdmin","onMounted","undefined","toRefs","__exports__","render"],"mappings":"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","file":"js/chunk-101f7e68.b6802b26.js","sourcesContent":["import { ref } from 'vue';\r\nimport {useRoute } from 'vue-router'\r\nimport {department} from '../api'\r\n\r\nexport default function useSearch(getList,sourceData,data){\r\n  const route = useRoute()\r\n    // 部门数据\r\n    const departmentList = ref([{\r\n        value: 'jack',\r\n        label: 'Jack',\r\n      }, {\r\n        value: 'lucy',\r\n        label: 'Lucy',\r\n      }, {\r\n        value: 'tom',\r\n        label: 'Tom',\r\n      }]);\r\n     // 部门选中\r\n      const handleChange = async value => {\r\n     \r\n        data.value = sourceData.value\r\n        if(value){\r\n          data.value = data.value.filter(item=>{\r\n            return item.department==value\r\n          })\r\n        }\r\n         \r\n      }; \r\n\r\n      const getDepartment = ()=>{\r\n        department('').then(res=>{\r\n          departmentList.value = res.data.map(item=>{\r\n           return {\r\n            label:item.depName,\r\n            value:item.depName\r\n           }\r\n          })\r\n          departmentList.value.unshift({label:'全部',value:''})\r\n        })\r\n      }\r\n      getDepartment()\r\n    // 主题搜索\r\n     const onSearch = (value)=>{\r\n \r\n      getList(route.meta.status,value)\r\n    \r\n     }  \r\n\r\n    let search = ref('')\r\n       //部门过滤\r\n      const filterOption = (input, option) => {\r\n        return option.value.toLowerCase().indexOf(input.toLowerCase()) >= 0;\r\n      };\r\n\r\n      return {\r\n        filterOption,onSearch,handleChange,departmentList,search\r\n      }\r\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Manage.vue?vue&type=style&index=0&id=2b401786&lang=less&scoped=true\"","import { reactive,ref } from 'vue';\r\nimport { deleteFk } from '../api';\r\nimport { message } from 'ant-design-vue';\r\nimport { useRoute } from 'vue-router';\r\n\r\nexport default function useSelect(getList,deleteFn){\r\n        // 多选\r\n         const route =useRoute()\r\n          let selectedRowKeys = ref([])\r\n          \r\n          //选中改变\r\n          const onSelectChange = value => {\r\n            console.log('selectedRowKeys changed: ', value);\r\n            selectedRowKeys.value = value\r\n         \r\n          };\r\n\r\n          const deleteAll = async (id='')=>{\r\n            console.log(id)\r\n            let result\r\n                 if(id){\r\n             result = await deleteFn(id)\r\n         \r\n                 }\r\n                 else{\r\n                  console.log(selectedRowKeys.value)\r\n                   result = await deleteFn(selectedRowKeys.value)\r\n                 }\r\n                 if(result.code==200){\r\n                  message.info('删除成功')\r\n                  getList(route.meta.status)\r\n                 }\r\n                 else{\r\n                  message.info(result.msg||'失败')\r\n                 }\r\n            \r\n          }\r\n    \r\n          \r\n      \r\n          return {\r\n           onSelectChange,selectedRowKeys,deleteAll\r\n          }\r\n\r\n}","<template>\r\n    <div class=\"message_wra\" >\r\n        <div class=\"search\">\r\n            <div class=\"department\"> \r\n                <div class=\"title\">部门：</div>\r\n                 <a-input-search\r\n      v-model:value=\"search\"\r\n      placeholder=\"请输入\"\r\n      style=\"width: 200px\"\r\n      @search=\"onSearch\"\r\n    /></div>\r\n\r\n        </div>\r\n        <div class=\"table\">\r\n          <div style=\"margin-bottom: 16px\" class=\"btn\">\r\n           <a-button type=\"primary\"  :loading=\"loading\" @click=\"add\" style=\"margin-right:16px\">\r\n        新增账号\r\n      </a-button>\r\n      <a-button type=\"primary\"   @click=\"deleteAll('')\">\r\n        批量删除\r\n      </a-button>\r\n      <span style=\"margin-left: 8px\">\r\n      \r\n      </span>\r\n    </div>\r\n           <a-table \r\n                :row-selection=\"{ selectedRowKeys: selectedRowKeys, onChange: onSelectChange }\"\r\n             :columns=\"columns\" \r\n             :data-source=\"data\"  \r\n             :pagination=\"pagination\"\r\n             :rowKey=\"record => record.account\"\r\n          \r\n         \r\n            >\r\n\r\n    <template #bodyCell=\"{ column, record }\">\r\n    \r\n    \r\n      <template v-if=\"column.key === 'action'\">\r\n        <span>\r\n          <a @click=\"edit(record)\">编辑</a>\r\n          \r\n        \r\n       \r\n        \r\n          <a @click=\"deleteAll([record.account])\">\r\n            移除\r\n          </a>\r\n       \r\n        </span>\r\n      </template>\r\n    </template>\r\n  </a-table>\r\n\r\n        </div>\r\n      \r\n \r\n         <a-modal v-model:visible=\"isShow\"  @ok=\"handleOk\" centered\r\n cancelText=\"取消\" okText=\"保存\"\r\n :closable=\"false\">\r\n      <div class=\"title\" style=\"display: flex;\r\n    font-size: 20px;\r\n    justify-content: center;\">{{title}}</div>\r\n      <div class=\"form\" style=\"display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    margin-right: 100px;\">\r\n        <div style=\"display:flex;align-items: center;margin-bottom:20px;margin-top:20px\">部门名称：  <a-input v-model:value=\"dep.depName\" placeholder=\"部门名称\" style=\"width:200px\" /></div>\r\n        <div>负责人手机号：  <a-input v-model:value=\"dep.account\" placeholder=\"手机号\"  style=\"width:200px\"/></div>\r\n        <div style=\"display:flex;align-items: center;margin-bottom:20px;margin-top:20px\" v-if=\"oldInfo.isAdd\" >负责反馈： <a-select\r\n    v-model:value=\"department\"\r\n    show-search\r\n \r\n    placeholder=\"选择反馈类型\"\r\n    style=\"width: 200px\"\r\n    :options=\"type\"\r\n    :filter-option=\"filterOption\"   \r\n    @change=\"selectType\"\r\n    mode=\"multiple\" v-if=\"oldInfo.isAdd\"></a-select>\r\n    </div>\r\n\r\n      </div>\r\n  </a-modal>\r\n        \r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent, toRefs,ref,onMounted } from 'vue';\r\nimport useModal from './modal';\r\nimport useSelect from '../../hooks/useSelect'\r\nimport useTable from './table';\r\nimport useSearch from '../../hooks/useSearch';\r\nimport { deleteFk,deleteAdmin } from '../../api';\r\nexport default defineComponent({\r\n  setup() {\r\n   \r\n  \r\n   \r\n   //表格数据\r\n   let {data,columns,getList,pagination} = useTable()\r\n    // 多选及其操作\r\n   let {state,start,onSelectChange,deleteAll} = useSelect(getList,deleteAdmin)\r\n // 对话框\r\n   let {edit,title,isShow,add,handleOk,dep,getTypeList,type,selectType,oldInfo} = useModal(getList)\r\n   // 搜索及其部门选择\r\n   let {departmentList,onSearch,handleChange,filterOption,search} = useSearch(getList)\r\n\r\nonMounted(()=>{\r\n  getList()\r\n  getTypeList()\r\n})\r\n\r\n    return {\r\n      department: ref(undefined),\r\n      filterOption,\r\n      handleChange,\r\n      departmentList,\r\n      onSearch,\r\n      topic:ref(''),\r\n      columns,\r\n      data,\r\n      getList,\r\n      pagination,\r\n      dep,\r\n      type,\r\n      selectType,\r\n      oldInfo,\r\n      search,\r\n      deleteAll,\r\n    \r\n      ...toRefs(state),\r\n      // func\r\n      start,\r\n      onSelectChange,\r\n\r\n      add,\r\n      isShow,\r\n      handleOk,\r\n      title,\r\n      edit\r\n    };\r\n  },\r\n\r\n});\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.message_wra{\r\n    .search{\r\n        display: flex;\r\n        margin-top: 20px;\r\n        margin-left: 20px;\r\n        width: 50vw;\r\n        justify-content:space-between;\r\n\r\n        .department{\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n\r\n        .topic{\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n    }\r\n    .table{\r\n      width: 80vw;\r\n      margin: auto;\r\n      height: 80vh;\r\n         overflow: auto;\r\n     \r\n      /deep/.ant-btn-primary{\r\n        border-radius: 5px;\r\n      }\r\n      .btn{\r\n        display: flex;\r\n        justify-content: flex-end;     }\r\n        /deep/.ant-table-thead > tr > th{\r\n          text-align: center;\r\n        }\r\n        /deep/.ant-table-tbody > tr > td{\r\n          text-align: center;\r\n        }\r\n     \r\n    }\r\n    :global(.ant-modal-footer){    \r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n    :global(.ant-modal-content){\r\n        border-radius: 20px;\r\n        \r\n    }\r\n\r\n  \r\n\r\n\r\n}\r\n\r\n\r\n</style>","import { ref,reactive } from 'vue';\r\nimport { getType,addDepartment,updateDepartment } from '../../api';\r\nimport { message } from 'ant-design-vue/lib/components';\r\n\r\nexport default function useModal(getList){\r\n   let oldInfo = reactive({isAdd:false})\r\n     //编辑\r\n     const edit = (data)=>{\r\n        title.value = '修改账号信息'\r\n        isShow.value = true\r\n        oldInfo.data = data\r\n        oldInfo.isAdd = false\r\n        dep.depName = data.depName\r\n        dep.account = data.account\r\n        \r\n    }\r\n\r\n    const dep = reactive({\r\n      depName:'',\r\n      account:'',\r\n      typeList:[]\r\n\r\n    })\r\n    let type = ref([])\r\n    //对话框标题\r\n    let title = ref('')\r\nconst getTypeList = ()=>{\r\n   getType().then(res=>{\r\n      type.value = res.data.map(item=>{\r\n         return{\r\n            label:item.typeName,\r\n            value:item.typeId\r\n         }\r\n      })\r\n      \r\n    })\r\n}\r\n  \r\nconst selectType = (value)=>{\r\n   dep.typeList = value\r\n}\r\n\r\n\r\n    // 对话框确认\r\n    const handleOk = ()=>{\r\n      if(title.value=='添加账号信息'){\r\n         addDepartment(dep).then(res=>{\r\n            if(res.code==200){\r\n               message.info('添加成功')\r\n               getList()\r\n               isShow.value = false\r\n            }\r\n            else{\r\n               message.info(res.msg)\r\n            }\r\n         })\r\n      }\r\n      else{\r\n   updateDepartment({depName:dep.depName,oldAccount:oldInfo.data.account,newAccount:dep.account==oldInfo.data.account?'':dep.account}).then(res=>{\r\n      if(res.code==200){\r\n         message.info('更新成功')\r\n         getList()\r\n         isShow.value = false\r\n      }\r\n      else{\r\n         message.info(res.msg)\r\n      }\r\n   })\r\n\r\n      }\r\n    \r\n      \r\n    \r\n\r\n    }\r\n    //对话框\r\n    let isShow = ref(false)\r\n    //新增部门\r\n     const add = ()=>{\r\n      oldInfo.isAdd = true\r\n        isShow.value = true\r\n        title.value = '添加账号信息'\r\n       \r\n     }\r\n     return {\r\n        edit,add,handleOk,isShow,dep,getTypeList,type,selectType,oldInfo\r\n     }\r\n}","import { ref } from 'vue';\r\nimport { department } from '../../api';\r\n\r\nexport default function useTable(){\r\n        // 表格头，没有的表头做过滤\r\n        const columns = [{\r\n            title: '账号',\r\n            dataIndex: 'account',\r\n            key: 'account',\r\n          }, \r\n          {\r\n            title: '部门名称',\r\n            key: 'depName',\r\n            dataIndex: 'depName',\r\n            isShow:false\r\n          },\r\n          \r\n          {\r\n            title: '创建时间',\r\n            key: 'date',\r\n            dataIndex: 'date',\r\n             sorter: (a, b) => a.name.length - b.name.length,\r\n          },\r\n          {\r\n            title: '操作',\r\n            key: 'action',\r\n          }];\r\n          const data = ref([\r\n            {\r\n              topic:'xxxxxx',\r\n              content:'xxxx'\r\n            }\r\n           \r\n          ]);\r\n          const pagination={\r\n            size:'large',\r\n             pageSize:7\r\n           \r\n        }\r\n          const getList  = (xx,key='')=>{\r\n            department(key).then(res=>{\r\n              data.value = res.data.map(item=>{\r\n                return {\r\n                  ...item,\r\n                  date:item.createTime.replace('T',' ').replace('Z','')\r\n                }\r\n              })\r\n            })\r\n           \r\n          }\r\n\r\n          return {\r\n            data,columns,getList,pagination\r\n          }\r\n}","import { render } from \"./Manage.vue?vue&type=template&id=2b401786&scoped=true\"\nimport script from \"./Manage.vue?vue&type=script&lang=js\"\nexport * from \"./Manage.vue?vue&type=script&lang=js\"\n\nimport \"./Manage.vue?vue&type=style&index=0&id=2b401786&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\前端\\\\fk-bg\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2b401786\"]])\n\nexport default __exports__"],"sourceRoot":""}