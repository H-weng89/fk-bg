{"version":3,"sources":["webpack:///./src/pages/detail/Detail.vue?c8d5","webpack:///./src/pages/detail/Detail.vue","webpack:///./src/pages/detail/Detail.vue?4e98"],"names":["state","reactive","info","route","useRoute","isReply","ref","router","useRouter","id","status","query","value","reply","async","data","content","feedbackId","phone","localStorage","getItem","console","log","result","replyApi","code","message","go","onMounted","detail","createTime","replace","toRefs","__exports__"],"mappings":"kHAAA,W,krBC6BE,MAAMA,EAAQC,sBAAS,CACrBC,KAAK,KAIDC,EAAQC,iBACd,IAAIC,EAAUC,iBAAI,IAClB,MAAMC,EAASC,kBAET,GAACC,EAAD,OAAIC,GAAUP,EAAMQ,MAC1BN,EAAQO,MAAQF,EAElB,MAAMG,EAAQC,UACV,MAAMC,EAAO,CACTC,QAAQhB,EAAME,KAAKW,MACnBI,WAAWR,EACXS,MAAMC,aAAaC,QAAQ,UAE/BC,QAAQC,IAAIP,GACd,MAAMQ,QAAeC,eAAST,GACd,KAAbQ,EAAOE,OACRC,OAAQxB,KAAK,QACbK,EAAOoB,IAAI,KAIZC,uBAAUd,UACX,MAAMS,QAAeM,eAAOpB,GAC3BT,EAAME,KAAO,IAAIqB,EAAOR,KAAKe,WAAWP,EAAOR,KAAKe,WAAWC,QAAQ,IAAI,KAAKA,QAAQ,IAAI,OAG9F,IAAI,KAAC7B,GAAQ8B,oBAAOhC,G,wnDCtDrB,MAAMiC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD,gB","file":"js/chunk-2bddec9e.17ba530f.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Detail.vue?vue&type=style&index=0&id=69977b8e&lang=less&scoped=true\"","<template>\r\n    <div class=\"detail_wra\">\r\n        <h1 class=\"topic\">{{info.topic}}</h1>\r\n        <div class=\"description\">\r\n            <div class=\"name\" v-if=\"!info.anonymity\">反馈人：{{info.name}}</div>\r\n            <div class=\"type\">问题类型：{{info.type}}</div>\r\n             <div class=\"type\">反馈部门：{{info.department}}</div>\r\n            <div class=\"time\">{{info.createTime}}</div>\r\n        </div>\r\n        <div class=\"content\">{{info.content}}</div>\r\n        <div class=\"file\">附件<a :href=\"info.fileUrl\">:点击下载</a></div>\r\n          <div class=\"img\"><img src=\"https://joeschmoe.io/api/v1/random\" alt=\"\"></div>\r\n        <h1 v-if=\"!+isReply\">回复:</h1>\r\n         <h1 v-else>编辑:</h1>\r\n        <div class=\"answer\"> <a-textarea v-model:value=\"info.reply\" placeholder=\"请回复\" :rows=\"4\" /></div>\r\n        <div class=\"btn\">  <a-button type=\"primary\" @click=\"reply\">确定</a-button></div>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n import {detail} from '../../api' \r\n import {reactive,onMounted,toRefs,ref} from 'vue'\r\n import {useRoute,useRouter} from 'vue-router'\r\n import { reply as replyApi } from '../../api';\r\n\r\nimport { message } from 'ant-design-vue';\r\n\r\n\r\n  const state = reactive({\r\n    info:{\r\n        \r\n    }\r\n  })\r\n  const route = useRoute()\r\n  let isReply = ref('')\r\n  const router = useRouter()\r\n \r\n  const {id,status} = route.query\r\n  isReply.value = status\r\n\r\nconst reply = async ()=>{\r\n    const data = {\r\n        content:state.info.reply,\r\n        feedbackId:id,\r\n        phone:localStorage.getItem('phone')\r\n    }\r\n    console.log(data)\r\n  const result = await replyApi(data)\r\n  if(result.code==200){\r\n    message.info('操作成功')\r\n    router.go(-1)\r\n  }\r\n}\r\n \r\n   onMounted(async()=>{\r\n  const result = await detail(id)\r\n   state.info = {...result.data,createTime:result.data.createTime.replace('T',' ').replace('Z','')}\r\n   })\r\n\r\n let {info} = toRefs(state)\r\n\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.detail_wra{\r\n    overflow: auto;\r\n    .topic{\r\n        margin-top: 10px;\r\n        display: flex;\r\n        margin-left: 40px;\r\n    }\r\n    .description{\r\n        display: flex;\r\n        margin-left: 40px;\r\n        width: 50vw;\r\n        justify-content: space-between;\r\n    }\r\n\r\n    .content{\r\n        display: flex;\r\n        margin-left:40px;\r\n        margin-top: 20px;\r\n        margin-right: 40px;\r\n       \r\n    }\r\n    .file{\r\n        display: flex;\r\n        margin-left: 40px;\r\n        margin-top: 20px;\r\n      \r\n    }\r\n\r\n    .img{\r\n        width: 85vw;\r\n        height: 200px;\r\n        margin: auto;\r\n        img{\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n    }\r\n\r\n    h1{\r\n        display: flex;\r\n        margin-left: 40px;\r\n        \r\n    }\r\n     .answer{\r\n        width: 80vw;\r\n        margin: auto;\r\n    }\r\n   .btn{\r\n    margin-top: 20px;\r\n    /deep/.ant-btn-primary{\r\n        width: 100px;\r\n        border-radius: 5px;\r\n        height: 35px;\r\n    }\r\n   }\r\n}\r\n\r\n</style>","import script from \"./Detail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Detail.vue?vue&type=style&index=0&id=69977b8e&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\前端\\\\fk-bg\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-69977b8e\"]])\n\nexport default __exports__"],"sourceRoot":""}